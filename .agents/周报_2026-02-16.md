# 周报 - 2026-02-16

## 本周目标
- 修复 Fabric 端资源重载异常导致的“主菜单反复重载 + 中文方格字”。
- 稳定恢复 OBJ 模型渲染，并逐步扩容到可联调状态。

## 关键进展
1. 稳定性止血
- 在 1.16.5/1.20.1 两端验证：只要资源重载链路触发模型异常，就会连带中文字体/语言异常。
- 先回退到稳定模式（禁用高风险 OBJ 覆盖），确保可进菜单、可进存档、中文正常。

2. 1.16.5 OBJ 链路重建
- 完成 v116 OBJ 加载实现（父链探测、forge:obj 解析、base/light 双层、station_lamp 组合能力）。
- 修复 1.16.5 专有兼容问题：
  - Java 8 语法兼容（record/var/List.of/isBlank 等）；
  - Gson 运行时兼容（替换 deepCopy 调用）；
  - item parent 链触发 `BlockModel parent has to be a block model` 的问题。

3. 依赖与文档修正
- `fabric-1.16.5` 依赖门槛降至 `fabric-loader >= 0.14.21`。
- 调整 Fabric API 依赖为更兼容的拆分模块策略，避免整合包差异导致“fabric-api missing”。
- 更新 `README.md`、`README_zh.md` 运行要求说明。

4. 灰度恢复到全量联调
- 先从 5 个 canary OBJ 验证稳定后，持续扩容。
- 现已放开 1.16.5 全部 OBJ block 覆盖（含 `station_lamp`）并同步 item 侧联调模型。

## 当前状态
- Fabric 1.16.5：已进入“全量 OBJ 联调”阶段。
- 构建状态：`./gradlew.bat :fabric-1.16.5:build -x test` 通过。

## 下周建议
- 根据联调结果分组收口：
  - A 组：稳定可发布（直接保留）；
  - B 组：有贴图/光照偏差（定向修材质映射）；
  - C 组：仍影响重载稳定（回退到稳定模型，后续专项处理）。

## 追加进展（Telecom 通讯迁移）
- 本轮新增 `common` 运行时：`telecom/runtime/TelecomCommRuntime`。
- 覆盖旧版通信核心状态机：SignalBox / Sender / Getter / TriState / RSLatch / Timer / Delayer / Wireless RxTx。
- 支持 `sender/target/transceiver` 连线关系、反相器、TriState 触发、计时器与延时器参数化、外部总线输入与无线设备读写。
- 本轮未改动 `Beacon*` 代码路径，作为独立迁移分支推进。


## 追加进展（Telecom 接线层）
- 新增 `TelecomCommService`，把通信运行时从“仅 core”推进到“可由工具直接驱动”。
- 已在 Fabric/Forge 的 1.16.5、1.18.2、1.20.1 接入 Connector/Editor/Tablet 三件套。
- 本轮重点验证 Forge：三版本构建全部通过，具备联调基础。

## 追加进展（Telecom Tick 驱动）
- 已补齐通信运行时服务器 Tick 驱动，避免仅靠工具交互推进逻辑。
- 仍保持 BeaconNetwork 内部逻辑不变，只在版本入口注册 tick/reset。
- Fabric/Forge 三版本二次构建验证通过。
